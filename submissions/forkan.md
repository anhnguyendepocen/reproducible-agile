---
layout: default
title: 'Submission at Reproducible Computational Geosciences Workshop @ AGILE 2017'
exclude_from_nav: true
---

# An open-source scientific workflow solution for geospatial data analysis

## Authors

- Abdur Forkan <abdur.forkan@rmit.edu.au>
- Alan Both <alan.both@rmit.edu.au>
- Chris Bellman <chris.bellman@rmit.edu.au> 
- Matt Duckham <matt.duckham@rmit.edu.au>
- Hamish Anderson <hamish.anderson@ga.gov.au>

### Abstract
The goal of this work is to develop an open-source solution for geospatial data analysis by adopting the concept of scientific workflow systems. We added geospatial data processing capability to a scientific workflow application by developing spatial data processing functionalities using open-source packages. Our solution also eliminates the dependency on commercial software. We developed a number of geospatial data processing nodes for the open-source data analytics software, KNIME, using other available open-source libraries such as GeoTools and GDAL. To demonstrate the capability of scientific workflows in spatial analytics, we used Geoscience Australia's (GA) procedure for constructing the national DEM (digital elevation model) as a case study. The main objective of this work is to develop a completely automated and reproducible solution for spatial analytics to solve complex geospatial processes. 

The process of creating value from spatial data requires expertise and intelligence. At present, this expertise typically lies either buried in software manuals or locked in the heads of the experts and analysts that designed and built the procedures. Many complex geographical analyses are currently undertaken using proprietary Geographical Information Systems (GIS). However, such software is typically expensive, and is difficult for non-experts to learn quickly. The process becomes even more complicated when it comes to applying geospatial analysis to large datasets when a large number of spatial operations are involved. Additionally, some processes require the close interaction of experts and manual execution of individual operations. Therefore, a completely automated open-source solution can enable users to easily create spatial analytics models that are reproducible and verifiable.

We developed a simplified and automated solution for geospatial data analytics by amalgamating several open-source software packages and the concept of scientific workflows (SWFs). In SWFs, a large complex task can be modularized into a set of simplified tasks based on their controls and data dependencies. SWFs can work on large, complex and heterogeneous spatial data, producing new sets of spatial data that can be archived for re-use or re-parameterized to run in a new workflow.

We have implemented a collection of geospatial processes within KNIME. KNIME is an open-source data analytics, reporting, and integration platform that supports the construction of scientific workflows using simple modules called nodes. To extend the functionality of KNIME, developers can implement their nodes and can contribute them to the KNIME node repository. Presently, KNIME has very limited spatial capabilities. We used a popular geospatial library, Geotools and the Geospatial Data Abstraction Library (GDAL) to build nodes with geospatial capabilities within KNIME. These nodes allow users to combine geospatial analysis with other data analytics techniques for the rapid processing of large geospatial datasets. A typical processing node in KNIME can have a list of input and output ports for taking input data and producing results in tabular format. Users also have option to provide additional parameters through a configuration dialogue and visualize results using a viewer node. Inside a KNIME workflow, data is passed through in tabular format. As such, we have used the GeoJSON format to represent geometry data (e.g. points, lines, polygons) in KNIME tables. Essentially, our implementation makes KNIME a graphical workbench for flexible and intuitive construction of spatial analytics procedures. 

To demonstrate our innovations, we constructed a scientific workflow of based on the national DEM process proposed by GA. The existing GA process has dependencies on commercial software such as ArcGIS, and some parts of the process are executed manually, with the specifics left to user discretion. In our solution, we integrated the expert judgment with the process as a set of rules, and constructed a workflow that will produce its results without human interaction. Our approach is more transparent, decomposable, and repeatable. 

We focused on the development of KNIME nodes mainly to process vector and raster data by keeping the operational complexity of each node to a minimal level. Each node is developed to serve a specific and conventional spatial operation. For raster data processing we developed nodes for re-sampling, mosaicking, masking, and many other tasks based of the functionalities of the underlying GDAL library. For processing geometry data we developed four types of node: reader, processor, writer, and viewer using GeoTools library. The reader node does not have any input port; instead a shape file location is configured using node dialogue and the output table is generated with a list of geometries. The writer and viewer nodes have a input port where a geometry table is passed in, but lack an output port. The writer node generates a shape file in a configured location and the viewer node generates a map view of the geometries in input data table. All other geometry processing nodes have a single pair of input and output ports. The input table contains a list of geometries for any unary (e.g. unaryunion, buffer) or binary (e.g. intersection, union, difference) geometry operations, and produces the computed geometries in the output table. Our geospatial nodes also have parallel processing capabilities, reducing the time required for data processing significantly.

Our implemented nodes, along with existing KNIME data processing nodes, are used in combination to build the scientific workflow of GA's DEM process. In our approach, each step of GAâ€™s process are automated by defining a set of rules and simply connecting the required processing nodes. A network of nodes are combined in a meta-node to simplify the overall workflow as a sequence of steps. This workflow can easily be altered whenever required, thus ensuring rapid development and redeployment.

As part of our ongoing work, we are adding more geospatial nodes in KNIME. We are also building simplified workflow-based solutions of some complex geospatial processes and validating the performance of our approach against the original processes through quantitative measures. 
